---
/**
 * Dynamic Blog Post: Equipment Financing by Location - Chinese Version
 * URL: /zh/blog/location/雪兰莪/挖掘机
 */

import BaseLayout from '../../../../../../layouts/BaseLayout.astro';
import Breadcrumbs from '../../../../../../components/Breadcrumbs.astro';
import CTAButton from '../../../../../../components/CTAButton.astro';
import { COMPANY_INFO } from '../../../../../../utils/constants';
import { generateFAQSchema } from '../../../../../../utils/schema';
import {
  getLocationTags,
  getEquipmentTags,
  getTagName,
  buildBlogPostUrl,
  type Locale
} from '../../../../../../utils/blog-tags';

const lang: Locale = 'zh';

export function getStaticPaths() {
  const locations = getLocationTags();
  const equipment = getEquipmentTags();
  const paths = [];

  for (const loc of locations) {
    for (const equip of equipment) {
      paths.push({
        params: {
          location: loc.slug.zh,
          equipment: equip.slug.zh
        },
        props: {
          locationId: loc.id,
          equipmentId: equip.id
        }
      });
    }
  }

  return paths;
}

const { location, equipment } = Astro.params;
const { locationId, equipmentId } = Astro.props;

const locationTag = getLocationTags().find(loc => loc.id === locationId);
const equipmentTag = getEquipmentTags().find(eq => eq.id === equipmentId);

if (!locationTag || !equipmentTag) {
  return Astro.redirect('/zh/blog');
}

const locationName = getTagName(locationTag, lang);
const equipmentName = getTagName(equipmentTag, lang);

const equipmentData: Record<string, { priceRange: string; tenure: string; downPayment: string; uses: string[] }> = {
  'excavator': {
    priceRange: 'RM 150,000 - RM 800,000',
    tenure: '最长7年',
    downPayment: '可享0%首付',
    uses: ['建筑工程', '采矿作业', '土地开垦', '地基工程']
  },
  'forklift': {
    priceRange: 'RM 50,000 - RM 300,000',
    tenure: '最长5年',
    downPayment: '可享0%首付',
    uses: ['仓储物流', '制造业', '物流运输', '零售业']
  },
  'lorry': {
    priceRange: 'RM 80,000 - RM 500,000',
    tenure: '最长7年',
    downPayment: '可享0%首付',
    uses: ['物流运输', '建筑工程', '农业运输', '零售配送']
  },
  'prime-mover': {
    priceRange: 'RM 200,000 - RM 600,000',
    tenure: '最长7年',
    downPayment: '可享0%首付',
    uses: ['港口运输', '长途运输', '重型货物', '集装箱运输']
  }
};

const equipInfo = equipmentData[equipmentTag.id] || {
  priceRange: 'RM 100,000 - RM 500,000',
  tenure: '最长7年',
  downPayment: '可享0%首付',
  uses: ['建筑工程', '制造业', '物流运输']
};

const faqs = [
  {
    question: `如何在${locationName}申请${equipmentName}融资？`,
    answer: `通过盈亨信贷在${locationName}申请${equipmentName}融资非常简单。您需要：公司注册文件(SSM)、3个月银行流水、董事身份证复印件。通过WhatsApp发送您的文件，24小时内获得批准。`
  },
  {
    question: `${locationName}${equipmentName}融资的利率是多少？`,
    answer: `我们在${locationName}的${equipmentName}融资利率从年利率2.88%起。最终利率取决于您的公司情况、信用记录和${equipmentName}型号。联系我们获取个性化报价。`
  },
  {
    question: `新公司可以在${locationName}获得${equipmentName}融资吗？`,
    answer: `可以！我们为${locationName}的新公司（成立不到2年）提供${equipmentName}融资。要求可能包括更高的首付或个人担保，但我们会努力为所有符合条件的企业找到解决方案。`
  },
  {
    question: `${locationName}${equipmentName}可以享受0%首付吗？`,
    answer: `是的，符合条件的${locationName}申请人可以享受0%首付。资格取决于您公司的信用状况和${equipmentName}价值。`
  }
];

const breadcrumbItems = [
  { label: '首页', href: '/zh' },
  { label: '博客', href: '/zh/blog' },
  { label: '按地点', href: '/zh/blog/location' },
  { label: locationName, href: `/zh/blog/location/${location}` },
  { label: equipmentName, href: `/zh/blog/location/${location}/${equipment}` }
];

const articleDate = new Date().toISOString().split('T')[0];
---

<BaseLayout
  title={`${locationName}${equipmentName}融资 | 完整指南 | 盈亨信贷`}
  description={`${locationName}${equipmentName}融资完整指南。了解要求、年利率2.88%起、0%首付选择，24小时获批。`}
  lang={lang}
  keywords={[
    `${locationName}${equipmentName}融资`,
    `${locationName}${equipmentName}贷款`,
    `${locationName}${equipmentName}租赁`
  ]}
>
  <script type="application/ld+json" set:html={JSON.stringify(generateFAQSchema(faqs))} />

  <section class="bg-gray-50 border-b border-gray-200">
    <div class="container-custom">
      <Breadcrumbs items={breadcrumbItems} />
    </div>
  </section>

  <section class="section bg-navy-900">
    <div class="container-custom">
      <div class="max-w-4xl mx-auto">
        <div class="flex flex-wrap gap-2 mb-6">
          <a href={`/zh/blog/location/${location}`} class="badge-brutalist text-xs hover:bg-yellow-300 transition-colors">
            {locationName}
          </a>
          <span class="badge-brutalist bg-white text-xs">{equipmentName}</span>
          <span class="badge-brutalist bg-green-400 text-xs">融资指南</span>
        </div>

        <h1 class="text-4xl md:text-5xl lg:text-6xl font-black text-white mb-6 leading-tight" style="font-family: 'Bebas Neue', sans-serif;">
          <span class="text-yellow-400">{locationName}</span>{equipmentName}融资：完整指南
        </h1>

        <p class="text-xl text-gray-300 mb-8 leading-relaxed">
          您需要了解的关于在{locationName}融资{equipmentName}的一切。从要求到批准，获取40多年行业经验支持的专家指导。
        </p>

        <div class="flex flex-wrap items-center gap-6 text-gray-400 text-sm border-t border-white/20 pt-6">
          <div class="flex items-center gap-2">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
            </svg>
            <span>更新于 {new Date(articleDate).toLocaleDateString('zh-CN', { year: 'numeric', month: 'long', day: 'numeric' })}</span>
          </div>
          <div class="flex items-center gap-2">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd" />
            </svg>
            <span>阅读时间8分钟</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="bg-yellow-400 border-y-4 border-navy-900">
    <div class="container-custom py-6">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
        <div>
          <div class="text-2xl font-black text-navy-900" style="font-family: 'Bebas Neue', sans-serif;">
            {equipInfo.priceRange}
          </div>
          <div class="text-sm font-bold text-navy-900/70">价格范围</div>
        </div>
        <div>
          <div class="text-2xl font-black text-navy-900" style="font-family: 'Bebas Neue', sans-serif;">
            年利率2.88%起
          </div>
          <div class="text-sm font-bold text-navy-900/70">利率</div>
        </div>
        <div>
          <div class="text-2xl font-black text-navy-900" style="font-family: 'Bebas Neue', sans-serif;">
            {equipInfo.tenure}
          </div>
          <div class="text-sm font-bold text-navy-900/70">贷款期限</div>
        </div>
        <div>
          <div class="text-2xl font-black text-navy-900" style="font-family: 'Bebas Neue', sans-serif;">
            {equipInfo.downPayment}
          </div>
          <div class="text-sm font-bold text-navy-900/70">首付</div>
        </div>
      </div>
    </div>
  </section>

  <article class="section bg-white">
    <div class="container-custom">
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
        <div class="lg:col-span-2 prose prose-lg max-w-none">

          <h2 class="text-3xl font-black text-navy-900" style="font-family: 'Bebas Neue', sans-serif;">
            为什么在{locationName}融资{equipmentName}？
          </h2>

          <p>
            {locationName}是马来西亚最活跃的商业区域之一。
            无论您是扩展业务还是开始新项目，拥有合适的设备对成功至关重要。
          </p>

          <p>
            {equipmentName}对于{locationName}从事以下行业的企业来说是必不可少的设备：
          </p>

          <ul>
            {equipInfo.uses.map((use) => (
              <li><strong>{use}</strong> - 在{locationName}地区需求高</li>
            ))}
          </ul>

          <h2 class="text-3xl font-black text-navy-900 mt-12" style="font-family: 'Bebas Neue', sans-serif;">
            {locationName}{equipmentName}融资要求
          </h2>

          <div class="bg-gray-50 border-4 border-navy-900 p-6 my-6" style="box-shadow: 6px 6px 0 #1E3A8A;">
            <h3 class="text-xl font-black text-navy-900 mb-4" style="font-family: 'Bebas Neue', sans-serif;">
              所需文件
            </h3>
            <ul class="space-y-2 text-gray-700">
              <li class="flex items-start gap-3">
                <svg class="w-6 h-6 text-green-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                </svg>
                <span><strong>公司注册文件(SSM)</strong> - 表格9和24/49或营业执照</span>
              </li>
              <li class="flex items-start gap-3">
                <svg class="w-6 h-6 text-green-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                </svg>
                <span><strong>银行流水</strong> - 最近3个月公司银行流水</span>
              </li>
              <li class="flex items-start gap-3">
                <svg class="w-6 h-6 text-green-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                </svg>
                <span><strong>身份证复印件</strong> - 所有董事/合伙人的MyKad</span>
              </li>
              <li class="flex items-start gap-3">
                <svg class="w-6 h-6 text-green-500 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                </svg>
                <span><strong>{equipmentName}报价单</strong> - 来自经销商或卖家</span>
              </li>
            </ul>
          </div>

          <h2 class="text-3xl font-black text-navy-900 mt-12" style="font-family: 'Bebas Neue', sans-serif;">
            常见问题
          </h2>

          <div class="space-y-6 my-8">
            {faqs.map((faq) => (
              <div class="bg-gray-50 border-3 border-navy-900 p-6" style="box-shadow: 4px 4px 0 #1E3A8A;">
                <h3 class="font-bold text-lg text-navy-900 mb-2">{faq.question}</h3>
                <p class="text-gray-700">{faq.answer}</p>
              </div>
            ))}
          </div>

        </div>

        <aside class="lg:col-span-1">
          <div class="sticky top-24 space-y-6">

            <div class="bg-navy-900 border-4 border-yellow-400 p-6" style="box-shadow: 8px 8px 0 rgba(250, 204, 21, 0.4);">
              <h3 class="text-xl font-black text-yellow-400 mb-4" style="font-family: 'Bebas Neue', sans-serif;">
                立即获取{equipmentName}融资
              </h3>
              <ul class="space-y-2 text-white text-sm mb-6">
                <li class="flex items-center gap-2">
                  <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                  </svg>
                  <span>24小时批准</span>
                </li>
                <li class="flex items-center gap-2">
                  <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                  </svg>
                  <span>可享0%首付</span>
                </li>
                <li class="flex items-center gap-2">
                  <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                  </svg>
                  <span>年利率2.88%起</span>
                </li>
                <li class="flex items-center gap-2">
                  <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                  </svg>
                  <span>服务{locationName}</span>
                </li>
              </ul>
              <CTAButton
                text="立即WhatsApp咨询"
                link={COMPANY_INFO.whatsapp.link}
                variant="accent"
                size="large"
                icon="whatsapp"
                fullWidth={true}
              />
            </div>

            <div class="bg-white border-4 border-navy-900 p-6" style="box-shadow: 6px 6px 0 #1E3A8A;">
              <h3 class="text-lg font-black text-navy-900 mb-4" style="font-family: 'Bebas Neue', sans-serif;">
                {locationName}其他设备
              </h3>
              <ul class="space-y-2">
                {getEquipmentTags().filter(e => e.id !== equipmentTag.id).slice(0, 5).map((equip) => (
                  <li>
                    <a
                      href={buildBlogPostUrl(lang, locationTag.id, equip.id)}
                      class="flex items-center justify-between py-2 text-gray-700 hover:text-yellow-600 transition-colors border-b border-gray-200 last:border-0"
                    >
                      <span class="font-medium">{getTagName(equip, lang)}</span>
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                      </svg>
                    </a>
                  </li>
                ))}
              </ul>
            </div>

          </div>
        </aside>
      </div>
    </div>
  </article>

  <section class="section bg-navy-900">
    <div class="container-custom text-center">
      <h2 class="text-3xl md:text-4xl font-black text-yellow-400 mb-4" style="font-family: 'Bebas Neue', sans-serif;">
        准备在{locationName}融资您的{equipmentName}？
      </h2>
      <p class="text-xl text-white mb-8 max-w-2xl mx-auto">
        加入数千家信任盈亨信贷的企业。24小时获批。
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <CTAButton
          text="获取免费报价"
          link={COMPANY_INFO.whatsapp.link}
          variant="accent"
          size="large"
          icon="whatsapp"
        />
        <CTAButton
          text="计算还款"
          link="/zh/calculator"
          variant="outline-white"
          size="large"
        />
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap');

  .container-custom { @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8; }
  .section { @apply py-16 md:py-20; }
  .bg-navy-900 { background-color: #0F172A; }
  .text-navy-900 { color: #0F172A; }
  .border-navy-900 { border-color: #0F172A; }
  .badge-brutalist {
    @apply inline-block px-3 py-1 font-black bg-yellow-400 text-navy-900 border-2 border-navy-900;
    box-shadow: 2px 2px 0 #1E3A8A;
  }
  .prose h2 { @apply mt-12 mb-4; }
  .prose p { @apply mb-4 text-gray-700 leading-relaxed; }
  .prose ul { @apply my-4 space-y-2; }
  .prose li { @apply text-gray-700; }
  .prose strong { @apply text-navy-900; }
</style>
