---
/**
 * English Blog Index Page
 * Equipment Financing Blog - Expert Tips & Industry Guides
 * SEO: Informational, B2B educational content hub
 * Cultural Tone: Professional, informative, ROI-focused
 */

import BaseLayout from '../../../layouts/BaseLayout.astro';
import Breadcrumbs from '../../../components/Breadcrumbs.astro';
import BlogCard from '../../../components/BlogCard.astro';
import NewsletterSignup from '../../../components/NewsletterSignup.astro';
import CTAButton from '../../../components/CTAButton.astro';
import { COMPANY_INFO } from '../../../utils/constants';

const lang = 'en';

// Blog categories
const categories = [
  { name: 'Equipment Financing Tips', slug: 'equipment-financing', count: 12, icon: 'üèóÔ∏è' },
  { name: 'Industry News & Trends', slug: 'industry-news', count: 8, icon: 'üì∞' },
  { name: 'Contractor Guides', slug: 'contractor-guides', count: 10, icon: 'üë∑' },
  { name: 'Business Growth', slug: 'business-growth', count: 7, icon: 'üìà' },
  { name: 'Tax & Compliance', slug: 'tax-compliance', count: 6, icon: 'üìã' },
  { name: 'Equipment Maintenance', slug: 'equipment-maintenance', count: 9, icon: 'üîß' },
];

// Featured blog posts (placeholders - will be populated when actual blogs are created)
const featuredPosts = [
  {
    title: 'Complete Guide to Equipment Financing in Malaysia 2025',
    excerpt: 'Learn everything you need to know about financing construction equipment, from hire purchase to leasing options. Discover which financing method works best for your business.',
    date: '2025-10-11',
    author: 'Ing Heng Credit Team',
    slug: 'complete-guide-equipment-financing-malaysia',
    image: '/images/blog/equipment-financing-guide.jpg',
    category: 'Equipment Financing Tips',
    readTime: 8,
  },
  {
    title: 'Excavator Financing: How Contractors Can Save 30% on Equipment Costs',
    excerpt: 'Discover proven strategies to reduce your excavator acquisition costs through smart financing. Real case studies from successful Malaysian contractors.',
    date: '2025-10-10',
    author: 'Ing Heng Credit Team',
    slug: 'excavator-financing-save-30-percent',
    image: '/images/blog/excavator-financing.jpg',
    category: 'Contractor Guides',
    readTime: 6,
  },
  {
    title: 'Lorry Financing for Logistics Companies: Fast Approval Strategies',
    excerpt: 'Fast-track your lorry financing approval with these expert tips. Learn what documents you need and how to qualify for the best rates.',
    date: '2025-10-09',
    author: 'Ing Heng Credit Team',
    slug: 'lorry-financing-fast-approval-strategies',
    image: '/images/blog/lorry-financing.jpg',
    category: 'Equipment Financing Tips',
    readTime: 7,
  },
];

// Recent blog posts (only posts that actually exist)
const recentPosts = [
  {
    title: 'Forklift Leasing vs. Buying: Which Option is Right for Your Warehouse?',
    excerpt: 'Compare the pros and cons of leasing versus purchasing forklifts. Calculate ROI and make the best decision for your warehouse operations.',
    date: '2025-10-08',
    author: 'Ing Heng Credit Team',
    slug: 'forklift-leasing-vs-buying-guide',
    category: 'Business Growth',
  },
  {
    title: 'Tax Benefits of Equipment Financing: Maximize Your Deductions in 2025',
    excerpt: 'Understand the tax advantages of equipment financing in Malaysia. Learn how to claim capital allowances and reduce your tax burden legally.',
    date: '2025-10-07',
    author: 'Ing Heng Credit Team',
    slug: 'tax-benefits-equipment-financing-2025',
    category: 'Tax & Compliance',
  },
  {
    title: 'Cash Flow Management for Construction Companies: 5 Essential Strategies',
    excerpt: 'Master cash flow management while financing expensive construction equipment. Proven strategies from 40+ years of industry experience.',
    date: '2025-10-06',
    author: 'Ing Heng Credit Team',
    slug: 'cash-flow-management-construction',
    category: 'Business Growth',
  },
];

// Popular posts for sidebar
const popularPosts = [
  { title: 'Complete Guide to Equipment Financing in Malaysia 2025', slug: 'complete-guide-equipment-financing-malaysia' },
  { title: 'Excavator Financing: Save 30% on Equipment Costs', slug: 'excavator-financing-save-30-percent' },
  { title: 'Tax Benefits of Equipment Financing 2025', slug: 'tax-benefits-equipment-financing-2025' },
  { title: 'Forklift Leasing vs. Buying: Complete Guide', slug: 'forklift-leasing-vs-buying-guide' },
];

// Breadcrumb navigation
const breadcrumbItems = [
  { label: 'Home', href: '/en' },
  { label: 'Blog', href: '/en/blog' },
];

// Schema markup for Blog CollectionPage
const blogCollectionSchema = {
  "@context": "https://schema.org",
  "@type": "CollectionPage",
  "name": "Equipment Financing Blog - Expert Tips & Industry Guides",
  "description": "Expert insights on equipment financing, construction business management, and industry trends from Malaysia's trusted financing partner since 1985.",
  "url": "https://ingheng-credit.vercel.app/en/blog",
  "publisher": {
    "@type": "Organization",
    "name": "Ing Heng Credit & Leasing Sdn Bhd",
    "logo": {
      "@type": "ImageObject",
      "url": "https://ingheng-credit.vercel.app/logo.png"
    }
  },
  "mainEntity": {
    "@type": "ItemList",
    "itemListElement": featuredPosts.map((post, index) => ({
      "@type": "ListItem",
      "position": index + 1,
      "item": {
        "@type": "BlogPosting",
        "headline": post.title,
        "description": post.excerpt,
        "datePublished": post.date,
        "author": {
          "@type": "Organization",
          "name": post.author
        }
      }
    }))
  }
};
---

<BaseLayout
  title="Equipment Financing Blog Malaysia | Expert Tips | Ing Heng Credit"
  description="Expert insights on equipment financing, construction business management, tax benefits, and industry trends. 40+ years of financing expertise to help your business grow."
  lang={lang}
  keywords={[
    'equipment financing blog',
    'construction equipment tips',
    'financing guide Malaysia',
    'excavator financing tips',
    'lorry financing guide',
    'business loan advice',
    'equipment leasing Malaysia',
    'contractor financial tips'
  ]}
>
  <!-- Schema Markup -->
  <script type="application/ld+json" set:html={JSON.stringify(blogCollectionSchema)} />

  <!-- Breadcrumbs -->
  <section class="bg-gray-50 border-b border-gray-200">
    <div class="container-custom">
      <Breadcrumbs items={breadcrumbItems} />
    </div>
  </section>

  <!-- Hero Section -->
  <section class="section bg-navy-900">
    <div class="container-custom text-center max-w-4xl mx-auto">
      <h1 class="text-4xl md:text-5xl font-black text-yellow-400 mb-6 tracking-tight" style="font-family: 'Bebas Neue', sans-serif; text-transform: uppercase;">
        Equipment Financing Insights & Expert Guides
      </h1>
      <p class="text-xl text-white leading-relaxed mb-8">
        Learn from 40+ years of equipment financing expertise. Practical tips, industry insights, and proven strategies to help your construction, logistics, or manufacturing business thrive.
      </p>

      <!-- Search Bar (Placeholder) -->
      <div class="max-w-2xl mx-auto">
        <div class="relative">
          <input
            type="search"
            placeholder="Search articles about financing, equipment, business tips..."
            class="w-full px-6 py-4 pr-12 border-4 border-yellow-400 bg-white focus:border-yellow-400 focus:outline-none focus:ring-4 focus:ring-yellow-400/20 transition-all"
            aria-label="Search blog posts"
            style="box-shadow: 8px 8px 0 rgba(250, 204, 21, 0.4);"
          />
          <button
            type="button"
            class="absolute right-3 top-1/2 -translate-y-1/2 bg-yellow-400 text-navy-900 p-3 hover:bg-yellow-300 transition-colors font-bold"
            aria-label="Search"
            style="box-shadow: 4px 4px 0 rgba(30, 58, 138, 0.3);"
          >
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
          </button>
        </div>
      </div>

      <!-- Trust Signals -->
      <div class="flex flex-wrap justify-center gap-6 mt-8 text-sm text-yellow-400 font-bold">
        <div class="flex items-center gap-2">
          <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
          </svg>
          <span>40+ Years Experience</span>
        </div>
        <div class="flex items-center gap-2">
          <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
          </svg>
          <span>4,000+ Companies Helped</span>
        </div>
        <div class="flex items-center gap-2">
          <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
          </svg>
          <span>KPKT Licensed</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Category Navigation -->
  <section class="section bg-white border-y-4 border-navy-900">
    <div class="container-custom">
      <div class="flex flex-wrap justify-center gap-4">
        {categories.map((category) => (
          <a
            href={`/en/blog/category/${category.slug}`}
            class="flex items-center gap-2 px-6 py-3 bg-white border-3 border-navy-900 hover:bg-yellow-400 hover:text-navy-900 transition-all duration-200 group font-bold"
            style="box-shadow: 4px 4px 0 #1E3A8A;"
          >
            <span class="text-xl">{category.icon}</span>
            <span class="font-bold">{category.name}</span>
            <span class="text-sm opacity-75">({category.count})</span>
          </a>
        ))}
      </div>
    </div>
  </section>

  <!-- Featured Posts Section -->
  <section class="section bg-white">
    <div class="container-custom">
      <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-black text-navy-900 mb-4 tracking-tight" style="font-family: 'Bebas Neue', sans-serif; text-transform: uppercase;">Featured Articles</h2>
        <p class="text-gray-700 text-lg font-semibold">
          Our most popular and impactful guides to help you make smarter financing decisions
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
        {featuredPosts.map((post) => (
          <div class="card-brutalist h-full flex flex-col group relative">
            {/* Featured Badge */}
            <div class="absolute top-4 right-4 z-10">
              <span class="bg-yellow-400 text-navy-900 px-3 py-1 text-xs font-black uppercase border-2 border-navy-900" style="box-shadow: 3px 3px 0 #1E3A8A;">
                FEATURED
              </span>
            </div>

            {/* Featured Image Placeholder */}
            <a href={`/en/blog/${post.slug}`} class="block overflow-hidden aspect-video bg-gradient-to-br from-yellow-100 to-yellow-200 relative border-b-4 border-navy-900">
              <div class="absolute inset-0 flex items-center justify-center text-6xl opacity-30">
                {categories.find(c => c.name === post.category)?.icon || 'üìù'}
              </div>
            </a>

            <div class="p-6 flex flex-col flex-grow">
              {/* Meta Info */}
              <div class="flex items-center justify-between text-sm text-gray-700 mb-3">
                <span class="badge-brutalist">{post.category}</span>
                <span class="flex items-center gap-1">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                  {post.readTime} min read
                </span>
              </div>

              {/* Title */}
              <h3 class="text-2xl font-black text-navy-900 mb-3 group-hover:text-yellow-600 transition-colors" style="font-family: 'Bebas Neue', sans-serif;">
                <a href={`/en/blog/${post.slug}`}>
                  {post.title}
                </a>
              </h3>

              {/* Excerpt */}
              <p class="text-gray-700 mb-4 flex-grow leading-relaxed font-medium">
                {post.excerpt}
              </p>

              {/* Author & Read More */}
              <div class="flex items-center justify-between pt-4 border-t-3 border-navy-900">
                <div class="flex items-center space-x-2 text-sm text-gray-600">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                  </svg>
                  <time datetime={post.date}>
                    {new Date(post.date).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}
                  </time>
                </div>
                <a
                  href={`/en/blog/${post.slug}`}
                  class="inline-flex items-center text-yellow-600 font-black hover:text-navy-900 transition-colors group-hover:translate-x-2 transform duration-300 uppercase text-sm"
                >
                  Read More
                  <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="3">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                  </svg>
                </a>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Main Blog Grid with Sidebar -->
  <section class="section">
    <div class="container-custom">
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">

        <!-- Main Content Area (Blog Posts) -->
        <div class="lg:col-span-2">
          <div class="mb-8 flex items-center justify-between">
            <h2 class="text-2xl font-black text-navy-900 tracking-tight" style="font-family: 'Bebas Neue', sans-serif; text-transform: uppercase;">Recent Articles</h2>
            <div class="flex items-center gap-2 text-sm text-gray-700 font-bold">
              <span>Showing 1-9 of 52 articles</span>
            </div>
          </div>

          <!-- Blog Grid -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
            {recentPosts.map((post) => (
              <div class="card-brutalist h-full flex flex-col group">
                {/* Image Placeholder */}
                <a href={`/en/blog/${post.slug}`} class="block overflow-hidden aspect-video bg-gradient-to-br from-yellow-100 to-yellow-200 relative border-b-3 border-navy-900">
                  <div class="absolute inset-0 flex items-center justify-center text-5xl opacity-30">
                    {categories.find(c => c.name === post.category)?.icon || 'üìù'}
                  </div>
                </a>

                <div class="p-6 flex flex-col flex-grow">
                  {/* Category Badge */}
                  <div class="mb-3">
                    <span class="badge-brutalist text-xs">{post.category}</span>
                  </div>

                  {/* Title */}
                  <h3 class="text-xl font-black text-navy-900 mb-3 group-hover:text-yellow-600 transition-colors line-clamp-2" style="font-family: 'Bebas Neue', sans-serif;">
                    <a href={`/en/blog/${post.slug}`}>
                      {post.title}
                    </a>
                  </h3>

                  {/* Excerpt */}
                  <p class="text-gray-700 mb-4 flex-grow line-clamp-3 leading-relaxed font-medium">
                    {post.excerpt}
                  </p>

                  {/* Footer */}
                  <div class="flex items-center justify-between pt-4 border-t-3 border-navy-900 text-sm">
                    <time datetime={post.date} class="text-gray-500">
                      {new Date(post.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}
                    </time>
                    <a
                      href={`/en/blog/${post.slug}`}
                      class="text-yellow-600 font-black hover:text-navy-900 transition-colors uppercase"
                    >
                      Read More ‚Üí
                    </a>
                  </div>
                </div>
              </div>
            ))}
          </div>

          <!-- Pagination -->
          <div class="flex justify-center gap-2">
            <button disabled class="px-4 py-2 border border-gray-300 rounded-lg text-gray-400 cursor-not-allowed">
              Previous
            </button>
            <button class="px-4 py-2 bg-primary text-white rounded-lg">1</button>
            <button class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50">2</button>
            <button class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50">3</button>
            <button class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50">4</button>
            <span class="px-4 py-2">...</span>
            <button class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50">6</button>
            <button class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark">
              Next
            </button>
          </div>
        </div>

        <!-- Sidebar -->
        <aside class="lg:col-span-1 space-y-8">

          <!-- Newsletter Signup -->
          <div class="sticky top-24">
            <NewsletterSignup locale={lang} variant="boxed" />
          </div>

          <!-- Categories List -->
          <div class="card">
            <div class="card-body">
              <h3 class="text-xl font-bold text-primary mb-4">Browse by Category</h3>
              <ul class="space-y-3">
                {categories.map((category) => (
                  <li>
                    <a
                      href={`/en/blog/category/${category.slug}`}
                      class="flex items-center justify-between group hover:text-primary transition-colors"
                    >
                      <span class="flex items-center gap-2">
                        <span class="text-xl">{category.icon}</span>
                        <span class="font-medium group-hover:underline">{category.name}</span>
                      </span>
                      <span class="text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded-full">
                        {category.count}
                      </span>
                    </a>
                  </li>
                ))}
              </ul>
            </div>
          </div>

          <!-- Popular Posts -->
          <div class="card">
            <div class="card-body">
              <h3 class="text-xl font-bold text-primary mb-4">Most Popular</h3>
              <ul class="space-y-4">
                {popularPosts.map((post, index) => (
                  <li class="flex gap-3">
                    <span class="text-2xl font-bold text-primary/20 flex-shrink-0">
                      {String(index + 1).padStart(2, '0')}
                    </span>
                    <a
                      href={`/en/blog/${post.slug}`}
                      class="text-gray-700 hover:text-primary transition-colors font-medium leading-snug"
                    >
                      {post.title}
                    </a>
                  </li>
                ))}
              </ul>
            </div>
          </div>

          <!-- Contact CTA -->
          <div class="card bg-gradient-to-br from-primary to-secondary text-white">
            <div class="card-body text-center">
              <h3 class="text-2xl font-bold mb-3">Need Financing Advice?</h3>
              <p class="mb-6 opacity-90">
                Our experts are ready to help you find the perfect financing solution for your business.
              </p>
              <CTAButton
                text="WhatsApp Us Now"
                link={COMPANY_INFO.whatsapp.link}
                variant="accent"
                size="large"
                icon="whatsapp"
              />
              <p class="mt-4 text-sm opacity-75">
                Or call: <a href={`tel:${COMPANY_INFO.phone.international}`} class="underline hover:text-accent">{COMPANY_INFO.phone.display}</a>
              </p>
            </div>
          </div>

        </aside>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="section bg-gradient-to-r from-primary to-secondary text-white">
    <div class="container-custom text-center">
      <h2 class="text-3xl md:text-4xl font-bold mb-4 text-white">
        Ready to Finance Your Equipment?
      </h2>
      <p class="text-xl mb-8 text-white opacity-90 max-w-2xl mx-auto">
        Join 4,000+ businesses who trust Ing Heng Credit for their financing needs. Get approved in 24 hours with competitive rates from 2.88% p.a.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <CTAButton
          text="Get Free Quote Now"
          link="/en/contact"
          variant="accent"
          size="large"
        />
        <CTAButton
          text="Calculate Monthly Payment"
          link="/en/calculator"
          variant="outline-white"
          size="large"
        />
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap');

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Brutalist Badge */
  .badge-brutalist {
    @apply inline-block px-3 py-1 text-xs font-black uppercase;
    @apply bg-yellow-400 text-navy-900 border-2 border-navy-900;
    box-shadow: 3px 3px 0 #1E3A8A;
  }

  /* Brutalist Card */
  .card-brutalist {
    @apply bg-white overflow-hidden border-4 border-navy-900;
    box-shadow: 8px 8px 0 #1E3A8A;
    transition: all 0.3s ease;
  }

  .card-brutalist:hover {
    transform: translate(4px, 4px);
    box-shadow: 4px 4px 0 #1E3A8A;
  }

  .container-custom {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  .section {
    @apply py-16 md:py-20;
  }

  /* Navy color class */
  .bg-navy-900 {
    background-color: #0F172A;
  }

  .text-navy-900 {
    color: #0F172A;
  }

  .border-navy-900 {
    border-color: #0F172A;
  }
</style>
