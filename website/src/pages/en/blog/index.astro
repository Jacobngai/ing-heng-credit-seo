---
/**
 * English Blog Index Page
 * Equipment Financing Blog - Expert Tips & Industry Guides
 * SEO: Informational, B2B educational content hub
 * Cultural Tone: Professional, informative, ROI-focused
 */

import BaseLayout from '../../../layouts/BaseLayout.astro';
import Breadcrumbs from '../../../components/Breadcrumbs.astro';
import BlogCard from '../../../components/BlogCard.astro';
import NewsletterSignup from '../../../components/NewsletterSignup.astro';
import CTAButton from '../../../components/CTAButton.astro';
import { COMPANY_INFO } from '../../../utils/constants';

const lang = 'en';

// Blog categories
const categories = [
  { name: 'Equipment Financing Tips', slug: 'equipment-financing', count: 12, icon: '🏗️' },
  { name: 'Industry News & Trends', slug: 'industry-news', count: 8, icon: '📰' },
  { name: 'Contractor Guides', slug: 'contractor-guides', count: 10, icon: '👷' },
  { name: 'Business Growth', slug: 'business-growth', count: 7, icon: '📈' },
  { name: 'Tax & Compliance', slug: 'tax-compliance', count: 6, icon: '📋' },
  { name: 'Equipment Maintenance', slug: 'equipment-maintenance', count: 9, icon: '🔧' },
];

// Featured blog posts
const featuredPosts = [
  {
    title: 'Bulldozer Financing for G7 Contractors: Complete Guide to Malaysia\'s RM45B Infrastructure Boom',
    excerpt: 'Unlock unprecedented growth opportunities with Malaysia\'s RM45 billion G7 infrastructure projects. Learn how CIDB G7 contractors can secure bulldozer financing with favorable terms and capitalize on ECRL, MRT3, and Pan Borneo Highway developments.',
    date: '2025-10-15',
    author: 'Ing Heng Credit Team',
    slug: 'bulldozer-heavy-equipment-financing-g7-contractors',
    image: '/images/blog/bulldozer-financing.jpg',
    category: 'Contractor Guides',
    readTime: 12,
  },
  {
    title: 'Excavator Financing Complete Contractor Guide 2025',
    excerpt: 'Master excavator financing with our comprehensive 2025 guide covering hire purchase vs leasing, CIDB G4-G7 contractor strategies, and tax optimization. Discover how to secure competitive rates from 2.88% p.a. and maximize ROI on your heavy equipment investment.',
    date: '2025-10-15',
    author: 'Ing Heng Credit Team',
    slug: 'excavator-financing-complete-contractor-guide-2025',
    image: '/images/blog/excavator-financing.jpg',
    category: 'Contractor Guides',
    readTime: 9,
  },
  {
    title: 'Lorry Financing Fleet Expansion: Complete Logistics Growth Guide 2025',
    excerpt: 'Scale your logistics operations with strategic fleet financing. Learn proven strategies for multi-vehicle acquisition, cash flow optimization, and leveraging Malaysia\'s 700% freight growth to 2030. Complete guide for logistics companies ready to expand.',
    date: '2025-10-15',
    author: 'Ing Heng Credit Team',
    slug: 'lorry-financing-fleet-expansion-logistics-complete-guide',
    image: '/images/blog/lorry-financing.jpg',
    category: 'Business Growth',
    readTime: 10,
  },
];

// Recent blog posts
const recentPosts = [
  {
    title: 'Forklift Financing: Lease vs Buy Complete Warehouse Guide',
    excerpt: 'Make the right warehouse equipment decision with our comprehensive forklift financing analysis. Compare lease vs buy options, calculate true ownership costs, and discover how strategic financing can boost warehouse productivity by 30% while preserving working capital.',
    date: '2025-10-15',
    author: 'Ing Heng Credit Team',
    slug: 'forklift-financing-lease-vs-buy-warehouse-guide',
    category: 'Equipment Financing Tips',
  },
  {
    title: 'Prime Mover Financing: Long-Haul Logistics Investment Guide for Port Klang',
    excerpt: 'Dominate long-haul logistics with strategic prime mover financing. Port Klang operators can leverage 37.5% container growth projections with smart fleet investment strategies, flexible financing from 2.88% p.a., and optimized asset utilization.',
    date: '2025-10-15',
    author: 'Ing Heng Credit Team',
    slug: 'prime-mover-financing-long-haul-logistics-investment-guide',
    category: 'Equipment Financing Tips',
  },
  {
    title: 'Crane Financing vs Rental: Construction Project Investment Guide Malaysia',
    excerpt: 'Optimize your construction project economics with data-driven crane acquisition strategies. Compare financing vs rental for tower cranes, mobile cranes, and crawler cranes with ROI analysis, break-even calculations, and project-specific recommendations.',
    date: '2025-10-15',
    author: 'Ing Heng Credit Team',
    slug: 'crane-financing-vs-rental-construction-projects',
    category: 'Equipment Financing Tips',
  },
  {
    title: 'Cold Chain Refrigerated Truck Financing: Complete Guide for Food Logistics 2025',
    excerpt: 'Capture Malaysia\'s booming RM30 billion cold chain market with strategic refrigerated truck financing. Navigate HACCP compliance, temperature-controlled fleet expansion, and specialized financing solutions designed for perishable goods logistics.',
    date: '2025-10-15',
    author: 'Ing Heng Credit Team',
    slug: 'cold-chain-refrigerated-truck-financing-guide',
    category: 'Equipment Financing Tips',
  },
  {
    title: 'Manufacturing Equipment Financing: Factory Expansion Guide with NIMP 2030 Incentives',
    excerpt: 'Transform your factory with smart manufacturing equipment financing aligned to Malaysia\'s NIMP 2030 industrialization goals. Access RM50 billion government incentives, automation grants, and Industry 4.0 transformation funding for sustainable growth.',
    date: '2025-10-15',
    author: 'Ing Heng Credit Team',
    slug: 'manufacturing-equipment-financing-factory-expansion-guide',
    category: 'Business Growth',
  },
  {
    title: 'Equipment Financing for Seasonal Businesses: Manage Cash Flow Like a Pro',
    excerpt: 'Navigate seasonal cash flow challenges with strategic equipment financing. Learn proven techniques to align payment schedules with revenue cycles, maintain operations during off-peak periods, and grow your business sustainably.',
    date: '2025-10-08',
    author: 'Ing Heng Credit Team',
    slug: 'equipment-financing-seasonal-cash-flow',
    category: 'Business Growth',
  },
];

// Popular posts for sidebar
const popularPosts = [
  { title: 'Bulldozer Financing for G7 Contractors: Complete Guide', slug: 'bulldozer-heavy-equipment-financing-g7-contractors' },
  { title: 'Excavator Financing Complete Contractor Guide 2025', slug: 'excavator-financing-complete-contractor-guide-2025' },
  { title: 'Lorry Financing Fleet Expansion Guide 2025', slug: 'lorry-financing-fleet-expansion-logistics-complete-guide' },
  { title: 'Forklift Financing: Lease vs Buy Complete Guide', slug: 'forklift-financing-lease-vs-buy-warehouse-guide' },
];

// Breadcrumb navigation
const breadcrumbItems = [
  { label: 'Home', href: '/en' },
  { label: 'Blog', href: '/en/blog' },
];

// Schema markup for Blog CollectionPage
const blogCollectionSchema = {
  "@context": "https://schema.org",
  "@type": "CollectionPage",
  "name": "Equipment Financing Blog - Expert Tips & Industry Guides",
  "description": "Expert insights on equipment financing, construction business management, and industry trends from Malaysia's trusted financing partner since 1985.",
  "url": "https://ingheng-credit.vercel.app/en/blog",
  "publisher": {
    "@type": "Organization",
    "name": "Ing Heng Credit & Leasing Sdn Bhd",
    "logo": {
      "@type": "ImageObject",
      "url": "https://ingheng-credit.vercel.app/logo.png"
    }
  },
  "mainEntity": {
    "@type": "ItemList",
    "itemListElement": featuredPosts.map((post, index) => ({
      "@type": "ListItem",
      "position": index + 1,
      "item": {
        "@type": "BlogPosting",
        "headline": post.title,
        "description": post.excerpt,
        "datePublished": post.date,
        "author": {
          "@type": "Organization",
          "name": post.author
        }
      }
    }))
  }
};
---

<BaseLayout
  title="Equipment Financing Blog Malaysia | Expert Tips | Ing Heng Credit"
  description="Expert insights on equipment financing, construction business management, tax benefits, and industry trends. 40+ years of financing expertise to help your business grow."
  lang={lang}
  keywords={[
    'equipment financing blog',
    'construction equipment tips',
    'financing guide Malaysia',
    'excavator financing tips',
    'lorry financing guide',
    'business loan advice',
    'equipment leasing Malaysia',
    'contractor financial tips'
  ]}
>
  <!-- Schema Markup -->
  <script type="application/ld+json" set:html={JSON.stringify(blogCollectionSchema)} />

  <!-- Breadcrumbs -->
  <section class="bg-gray-50 border-b border-gray-200">
    <div class="container-custom">
      <Breadcrumbs items={breadcrumbItems} />
    </div>
  </section>

  <!-- Hero Section -->
  <section class="section bg-primary-ultralight">
    <div class="container-custom text-center max-w-4xl mx-auto">
      <h1 class="text-4xl md:text-5xl font-bold text-primary mb-6">
        Equipment Financing Insights & Expert Guides
      </h1>
      <p class="text-xl text-gray-600 leading-relaxed mb-8">
        Learn from 40+ years of equipment financing expertise. Practical tips, industry insights, and proven strategies to help your construction, logistics, or manufacturing business thrive.
      </p>

      <!-- Search Bar (Coming Soon) -->
      <div class="max-w-2xl mx-auto">
        <div class="relative">
          <input
            type="search"
            placeholder="Search coming soon... Browse categories below for now"
            class="w-full px-6 py-4 pr-12 border-2 border-gray-300 rounded-full bg-gray-50 cursor-not-allowed"
            aria-label="Search blog posts"
            disabled
          />
          <button
            type="button"
            class="absolute right-3 top-1/2 -translate-y-1/2 bg-gray-400 text-white p-3 rounded-full cursor-not-allowed"
            aria-label="Search"
            disabled
          >
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
          </button>
        </div>
      </div>

      <!-- Trust Signals -->
      <div class="flex flex-wrap justify-center gap-6 mt-8 text-sm text-gray-600">
        <div class="flex items-center gap-2">
          <svg class="w-5 h-5 text-primary" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
          </svg>
          <span>40+ Years Experience</span>
        </div>
        <div class="flex items-center gap-2">
          <svg class="w-5 h-5 text-primary" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
          </svg>
          <span>4,000+ Companies Helped</span>
        </div>
        <div class="flex items-center gap-2">
          <svg class="w-5 h-5 text-primary" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
          </svg>
          <span>KPKT Licensed</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Category Navigation -->
  <section class="section bg-white border-b border-gray-200">
    <div class="container-custom">
      <div class="flex flex-wrap justify-center gap-4">
        {categories.map((category) => (
          <a
            href={`/en/blog/category/${category.slug}`}
            class="flex items-center gap-2 px-6 py-3 bg-gray-100 hover:bg-primary hover:text-white rounded-full transition-all duration-200 group"
          >
            <span class="text-xl">{category.icon}</span>
            <span class="font-semibold">{category.name}</span>
            <span class="text-sm opacity-75">({category.count})</span>
          </a>
        ))}
      </div>
    </div>
  </section>

  <!-- Featured Posts Section -->
  <section class="section bg-gray-50">
    <div class="container-custom">
      <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-bold text-primary mb-4">Featured Articles</h2>
        <p class="text-gray-600 text-lg">
          Our most popular and impactful guides to help you make smarter financing decisions
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
        {featuredPosts.map((post) => (
          <div class="card h-full flex flex-col group hover:shadow-2xl transition-shadow duration-300 relative">
            {/* Featured Badge */}
            <div class="absolute top-4 right-4 z-10">
              <span class="bg-accent text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg">
                FEATURED
              </span>
            </div>

            {/* Featured Image Placeholder */}
            <a href={`/en/blog/${post.slug}`} class="block overflow-hidden aspect-video bg-primary-light/40 relative">
              <div class="absolute inset-0 flex items-center justify-center text-6xl opacity-20">
                {categories.find(c => c.name === post.category)?.icon || '📝'}
              </div>
            </a>

            <div class="card-body flex flex-col flex-grow">
              {/* Meta Info */}
              <div class="flex items-center justify-between text-sm text-gray-500 mb-3">
                <span class="badge badge-primary">{post.category}</span>
                <span class="flex items-center gap-1">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                  {post.readTime} min read
                </span>
              </div>

              {/* Title */}
              <h3 class="text-2xl font-bold text-primary mb-3 group-hover:text-secondary transition-colors">
                <a href={`/en/blog/${post.slug}`}>
                  {post.title}
                </a>
              </h3>

              {/* Excerpt */}
              <p class="text-gray-600 mb-4 flex-grow leading-relaxed">
                {post.excerpt}
              </p>

              {/* Author & Read More */}
              <div class="flex items-center justify-between pt-4 border-t border-gray-200">
                <div class="flex items-center space-x-2 text-sm text-gray-600">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                  </svg>
                  <time datetime={post.date}>
                    {new Date(post.date).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}
                  </time>
                </div>
                <a
                  href={`/en/blog/${post.slug}`}
                  class="inline-flex items-center text-secondary font-semibold hover:text-accent transition-colors group-hover:translate-x-2 transform duration-300"
                >
                  Read More
                  <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                  </svg>
                </a>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Main Blog Grid with Sidebar -->
  <section class="section">
    <div class="container-custom">
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">

        <!-- Main Content Area (Blog Posts) -->
        <div class="lg:col-span-2">
          <div class="mb-8 flex items-center justify-between">
            <h2 class="text-2xl font-bold text-primary">Recent Articles</h2>
            <div class="flex items-center gap-2 text-sm text-gray-600">
              <span>Showing 1-9 of 9 articles</span>
            </div>
          </div>

          <!-- Blog Grid -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
            {recentPosts.map((post) => (
              <div class="card h-full flex flex-col group hover:shadow-xl transition-shadow duration-300">
                {/* Image Placeholder */}
                <a href={`/en/blog/${post.slug}`} class="block overflow-hidden aspect-video bg-gray-100 relative">
                  <div class="absolute inset-0 flex items-center justify-center text-5xl opacity-20">
                    {categories.find(c => c.name === post.category)?.icon || '📝'}
                  </div>
                </a>

                <div class="card-body flex flex-col flex-grow">
                  {/* Category Badge */}
                  <div class="mb-3">
                    <span class="badge badge-primary text-xs">{post.category}</span>
                  </div>

                  {/* Title */}
                  <h3 class="text-xl font-bold text-primary mb-3 group-hover:text-secondary transition-colors line-clamp-2">
                    <a href={`/en/blog/${post.slug}`}>
                      {post.title}
                    </a>
                  </h3>

                  {/* Excerpt */}
                  <p class="text-gray-600 mb-4 flex-grow line-clamp-3 leading-relaxed">
                    {post.excerpt}
                  </p>

                  {/* Footer */}
                  <div class="flex items-center justify-between pt-4 border-t border-gray-200 text-sm">
                    <time datetime={post.date} class="text-gray-500">
                      {new Date(post.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}
                    </time>
                    <a
                      href={`/en/blog/${post.slug}`}
                      class="text-secondary font-semibold hover:text-accent transition-colors"
                    >
                      Read More →
                    </a>
                  </div>
                </div>
              </div>
            ))}
          </div>

          <!-- Pagination (Currently showing page 1 only) -->
          <div class="flex justify-center gap-2">
            <button disabled class="px-4 py-2 border border-gray-300 rounded-lg text-gray-400 cursor-not-allowed">
              Previous
            </button>
            <button class="px-4 py-2 bg-primary text-white rounded-lg cursor-default">1</button>
            <!-- Additional pages hidden until more content is added -->
          </div>
        </div>

        <!-- Sidebar -->
        <aside class="lg:col-span-1 space-y-8">

          <!-- Newsletter Signup -->
          <div class="sticky top-24">
            <NewsletterSignup locale={lang} variant="boxed" />
          </div>

          <!-- Categories List -->
          <div class="card">
            <div class="card-body">
              <h3 class="text-xl font-bold text-primary mb-4">Browse by Category</h3>
              <ul class="space-y-3">
                {categories.map((category) => (
                  <li>
                    <a
                      href={`/en/blog/category/${category.slug}`}
                      class="flex items-center justify-between group hover:text-primary transition-colors"
                    >
                      <span class="flex items-center gap-2">
                        <span class="text-xl">{category.icon}</span>
                        <span class="font-medium group-hover:underline">{category.name}</span>
                      </span>
                      <span class="text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded-full">
                        {category.count}
                      </span>
                    </a>
                  </li>
                ))}
              </ul>
            </div>
          </div>

          <!-- Popular Posts -->
          <div class="card">
            <div class="card-body">
              <h3 class="text-xl font-bold text-primary mb-4">Most Popular</h3>
              <ul class="space-y-4">
                {popularPosts.map((post, index) => (
                  <li class="flex gap-3">
                    <span class="text-2xl font-bold text-primary/20 flex-shrink-0">
                      {String(index + 1).padStart(2, '0')}
                    </span>
                    <a
                      href={`/en/blog/${post.slug}`}
                      class="text-gray-700 hover:text-primary transition-colors font-medium leading-snug"
                    >
                      {post.title}
                    </a>
                  </li>
                ))}
              </ul>
            </div>
          </div>

          <!-- Contact CTA -->
          <div class="card bg-secondary text-white">
            <div class="card-body text-center">
              <h3 class="text-2xl font-bold mb-3">Need Financing Advice?</h3>
              <p class="mb-6 opacity-90">
                Our experts are ready to help you find the perfect financing solution for your business.
              </p>
              <CTAButton
                text="WhatsApp Us Now"
                link={COMPANY_INFO.whatsapp.link}
                variant="accent"
                size="large"
                icon="whatsapp"
              />
              <p class="mt-4 text-sm opacity-75">
                Or call: <a href={`tel:${COMPANY_INFO.phone.international}`} class="underline hover:text-accent">{COMPANY_INFO.phone.display}</a>
              </p>
            </div>
          </div>

        </aside>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="section bg-secondary text-white">
    <div class="container-custom text-center">
      <h2 class="text-3xl md:text-4xl font-bold mb-4">
        Ready to Finance Your Equipment?
      </h2>
      <p class="text-xl mb-8 opacity-90 max-w-2xl mx-auto">
        Join 4,000+ businesses who trust Ing Heng Credit for their financing needs. Get approved in 24 hours with competitive rates from 2.88% p.a.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <CTAButton
          text="Get Free Quote Now"
          link="/en/contact"
          variant="accent"
          size="large"
        />
        <!-- Calculator page coming soon -->
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .badge {
    @apply inline-block px-3 py-1 rounded-full text-xs font-semibold;
  }

  .badge-primary {
    @apply bg-primary/10 text-primary;
  }

  .card {
    @apply bg-white rounded-lg shadow-md overflow-hidden;
  }

  .card-body {
    @apply p-6;
  }

  .container-custom {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  .section {
    @apply py-16 md:py-20;
  }
</style>
